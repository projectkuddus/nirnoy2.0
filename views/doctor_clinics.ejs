<%- include('partials/header') %>
<%- include('partials/flash') %>

<div class="wrap doctor-clinics-page">
  <header class="page-header">
    <p class="eyebrow">Doctor</p>
    <h1>My clinics</h1>
    <p class="page-subtitle">
      Manage the hospitals and chambers where you see patients.
    </p>
  </header>

  <section class="doctor-clinics-layout">
    <div class="doctor-clinics-list">
      <% if (!clinics || !clinics.length) { %>
        <p class="empty">
          You don’t have any clinics yet. Use the form on the right to add one.
        </p>
      <% } else { %>
        <div class="clinic-cards">
          <% clinics.forEach(c => { %>
            <article class="card clinic-card">
              <header>
                <h2><%= c.name || 'Clinic' %></h2>
              </header>
              <p class="clinic-meta">
                <% if (c.address) { %><span><%= c.address %></span><% } %>
                <% if (c.area) { %><span><% if (c.address) { %> · <% } %><%= c.area %></span><% } %>
              </p>
              <footer class="clinic-card__footer">
                <!-- Existing edit/delete controls could go here -->
              </footer>
            </article>
          <% }) %>
        </div>
      <% } %>
    </div>

    <aside class="doctor-clinics-form">
      <div class="card">
        <h2 class="section-title">Add a clinic</h2>
        <form method="post" action="/doctor/clinics" class="clinic-form">
          <%- include('partials/csrf') %>

          <label class="field">
            <span>Clinic / hospital</span>
            <select name="hospital_choice">
              <option value="">Select from Dhaka hospitals…</option>
              <% if (hospitalOptions && hospitalOptions.length) { %>
                <% hospitalOptions.forEach(h => { %>
                  <option value="<%= h %>"><%= h %></option>
                <% }) %>
              <% } %>
              <option value="">Other (type below)</option>
            </select>
          </label>

          <label class="field">
            <span>Custom clinic name (optional)</span>
            <input type="text" name="name_custom" placeholder="If not in the list, type here" />
          </label>

          <label class="field">
            <span>Address</span>
            <input type="text" name="address">
          </label>

          <label class="field">
            <span>City / Area</span>
            <input type="text" name="city">
          </label>

          <div class="clinic-form__actions">
            <button type="submit" class="btn primary">Save clinic</button>
          </div>
        </form>
      </div>
    </aside>
  </section>
</div>

<%- include('_footer') %>
