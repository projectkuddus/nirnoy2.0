<%- include('partials/header') %>
<%- include('partials/flash') %>

<div class="wrap doctor-clinics">
  <header class="page-header">
    <p class="eyebrow">Doctor settings</p>
    <h1>My clinics</h1>
    <p class="page-subtitle">
      Tell Nirnoy where you see patients. Patients can only book you into clinics listed here.
    </p>
  </header>

  <% if (clinics && clinics.length) { %>
    <section class="clinic-list">
      <% clinics.forEach(c => { %>
        <article class="clinic-card">
          <h2><%= c.name || 'Clinic' %></h2>
          <% if (c.address) { %>
            <p class="clinic-card__line"><%= c.address %></p>
          <% } %>
          <% if (c.area) { %>
            <p class="clinic-card__line"><%= c.area %></p>
          <% } %>
        </article>
      <% }) %>
    </section>
  <% } else { %>
    <p class="empty">
      You haven’t added any clinics yet. Add at least one clinic so patients can book you.
    </p>
  <% } %>

  <section class="clinic-form-section">
    <h2>Add a clinic</h2>
    <form method="post" action="/doctor/clinics" class="clinic-form">
      <%- include('partials/csrf') %>

      <label class="field">
        <span>Clinic / hospital</span>
        <select name="hospital_choice">
          <option value="">Select from Dhaka hospitals…</option>
          <% if (hospitalOptions && hospitalOptions.length) { %>
            <% hospitalOptions.forEach(h => { %>
              <option value="<%= h %>"><%= h %></option>
            <% }) %>
          <% } %>
          <option value="">Other (type below)</option>
        </select>
      </label>

      <label class="field">
        <span>Custom clinic name (optional)</span>
        <input type="text" name="name_custom" placeholder="If not in the list, type here" />
      </label>

      <label class="field">
        <span>Address</span>
        <input type="text" name="address">
      </label>

      <label class="field">
        <span>City / Area</span>
        <input type="text" name="city">
      </label>

      <div class="clinic-form__actions">
        <button type="submit" class="btn primary">Save clinic</button>
      </div>
    </form>
  </section>
</div>

<%- include('_footer') %>
